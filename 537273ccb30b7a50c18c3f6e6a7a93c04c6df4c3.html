<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>图解CSS-CSS-的值和单位</title>
    <link rel="stylesheet" href="https://c1312.netlify.app/typo.css">
    <link rel="stylesheet" href="https://c1312.netlify.app/style.css">
</head>
<body>
<header>
  <h1>图解CSS-CSS-的值和单位</h1>
</header>
<main class="typo"><div><p>CSS 的值和单位是 CSS 另一个独立功能模块，到目前为止，该模块已到了 Level 4 阶段（<a href=https://www.w3.org/TR/css-values-4/>CSS Values and Units Module Level 4</a>）。今天我们就来聊聊这个模块里的内容。对于 CSSer 来说，对于 CSS 中的值和单位应该不会感到陌生，但大部分同学应该都会把精力集中于单位这一块，事实上也是如此，在这篇文章中，我们所涉及到的大部分内容也是聊单位这一块，对于值这一部分只会花一点点内容略为带过。<h2><strong>CSS的值</strong></h2><p>在聊 CSS 的值之前，先给大家上一图：<p><img src=https://note-2019-images.oss-cn-hangzhou.aliyuncs.com/8df6788c.webp><p>上图只是我们常见的 CSS 样式规则之一。<p>事实上 CSS 是一门非常神奇的学科。我们在声明任何一个 CSS 的规则都可能会包括：<ul><li><p>CSS 的选择器<li><p>CSS 的属性<li><p>CSS 的属性值<li><p>CSS 的属性值单位</ul><p>而我们今天要聊的是 CSS 的属性值和单位。但事实上，CSS 不是每个规则都会同时包含 CSS 的属性值和单位，因为很多属性的值是只具有值，不具有单位的。比如上图的<code>color</code> 属性，他的值就不带单位，但可以是关键词、字符串、函数等。你在写 CSS 的时候可能会涉及到的 CSS 的值会有：<ul><li><p><strong>数值</strong>：长度值<code>&lt;length&gt;</code>，用于指定例如元素<code>width</code>、<code>border-width</code>、<code>font-size</code>等属性的值，这些值可能带有单位，也可能不带任何单位<li><p><strong>百分比</strong>：可以用于指定尺寸或长度，例如取决于父容器的<code>width</code>、<code>height</code>或默认的<code>font-size</code><li><p><strong>颜色</strong>：用于指定<code>background-color</code>、<code>color</code>等<li><p><strong>坐标位置</strong>：以屏幕的左上角为坐标原点定位元素的位置，比如常见的<code>background-position</code>、<code>top</code>、<code>right</code>、<code>bottom</code>和<code>left</code>等属性<li><p><strong>函数</strong>：用于指定背景图片或背景图片的渐变，比如<code>linear-gradient()</code>、<code>image-set()</code>等</ul><p>简单的概括一下：<strong>CSS 属性的值有多种，可以是数值、字符串、关键词或函数；同时 CSS 的属性的值可以带单位也可以不带单位</strong>。而且 CSS 的值并不是一成不变的，不同的属性对应的值都会略有不同，比如：<code>width</code> 属性，它的值可以是一个百分比的值，也可以是一个带有数值和单位；<code>color</code> 的值可以是一个关键词，也可以是一个函数值；<code>font-size</code> 可以是百分比、关键词，带有单位的数值；<code>line-height</code> 可以只是一个数值，可以是百分比值，还可以是带有单位的数值等。众多属性不一一列举。<h2><strong>CSS的单位</strong></h2><p>上面也提到了，CSS 属性值是带有单位，也有不带单位的。而 CSS 的单位对于 CSS 的值有是一个直接影响的。因为 CSS 的单位直接对 CSS 的值的计算是有直接影响的，在 CSS 中单位的之间有一个关系图，如下所示：<p><img src=https://note-2019-images.oss-cn-hangzhou.aliyuncs.com/daa6d984.webp><p>为了便于大家更好的理解和记住 CSS 中单位相关的知识点，下图是根据 W3C 规范重新做的划分：<p><img src=https://note-2019-images.oss-cn-hangzhou.aliyuncs.com/c915d1b5.webp><p>注意，上面这张图有点老了，正如《<a href=https://s.juejin.cn/ds/iLDH1a8d/>现代 CSS</a>》的 《<a href=https://juejin.cn/book/7223230325122400288/section/7249357892611440700>现代 CSS 中的相对单位</a>》所述，到目前为止，CSS 相对长度单位主要分为<strong>字体相对长度单位</strong>、<strong>视窗相对长度单位</strong>和<strong>容器查询相对长度单位</strong>三种：<ul><li><p><strong>字体相对长度单位</strong>：指的是使用它们的元素（用于本地字体相对长度）或根元素（用于根字体相对长度）的字体度量<li><p><strong>视窗相对长度单位</strong>：相对于浏览器视窗的尺寸的长度，例如 <code>vw</code> 和 <code>vh</code> 等<li><p><strong>容器查询相对长度单位</strong>：相对于查询容器的尺寸的长度，例如 <code>cqw</code> 和 <code>cqh</code> 等</ul><p><img src=https://note-2019-images.oss-cn-hangzhou.aliyuncs.com/4460d55c.webp><p>那么在这篇文章中，我们主要围绕着 CSS 中常用单位来展开。介绍这些 CSS 单位使用的场景和使用细节。<h3><strong>绝对单位</strong></h3><p>在 CSS 中有些单位是绝对值，不受任何屏幕大小或字体的影响。这些单位的显示可能会根据不同的屏幕分辨率而有所不同，因为它们取决于屏幕的 DPI（每英寸上的点数）。绝对单位常用于一些物理测量上。在环境输出已知的情形下非常有用。在 CSS 中，绝对单位包括：<code>px</code>、<code>in</code>、<code>cm</code>、<code>mm</code>、<code>pc</code>和<code>pt</code>等。其中<code>px</code>是我们最为常见的一个绝对单位。到目前为止，<code>px</code>在 CSS 的使用中也可以算是主流单位之一。<p>像素单位被认为是许多其他单位的测量基础。它提供了各种设备中一致的结果。也被认为是最好的<strong>设备像素</strong>，而这种像素长度和你在显示器上看到的文字屏幕像素无关。因为<code>px</code>实际上是一个按角度度量的单位，即<strong>像素角度</strong>。<blockquote><p>有关于设备像素更多的介绍，请移步阅读《<a href=https://s.juejin.cn/ds/iLDH9yKG/>现代 Web 布局</a>》的《<a href=https://juejin.cn/book/7161370789680250917/section/7165845190614188062#heading-3>下一代响应式 Web 设计：组件驱动式 Web 设计</a>》。</blockquote><p>很多时候，<code>px</code> 也常被称为 CSS 像素。它是一个绝对单位，但也可以被视为相对单位，为什么这么说呢？那是因为像素单位相对的是设备像素。在同一样的设备上，每<code>1</code>个 CSS 像素所代表的物理像素是可以变化的（即 CSS 像素的第一方面的相对性）；在不同的设备之间，每<code>1</code>个 CSS 像素所代表的物理像素是可以变化的（即 CSS 像素的第二方面的相对性）。<p>根据维基百科的解释：<blockquote><p>它是图像显示的基本单元，既不是一个确定的物理量，也不是一个点或者小方块，而是一个抽象概念。所以在谈论像素时一定要清楚它的上下文！</blockquote><p>不同的设备，图像基本采样的单元是不同的，显示器上的物理像素等于显示器的点距，而打印机的物理像素等于打印机的墨点。而衡量点距大小和打印机墨点大小的单位分别被称为<code>PPI</code>和<code>DPI</code>。<p>由于不同的物理设备的物理像素的大小是不一样的，所以 CSS 认为浏览器应该对 CSS 中的像素进行调节，使得浏览器中<code>1</code>个 CSS 像素的大小在不同物理设备上看上去大小总是差不多 ，目的是为了保证阅读体验一致。为了达到这一点浏览器可以直接按照设备的物理像素大小进行换算，而 CSS 规范中使用&#34;参考像素&#34;来进行换算。<p><code>1</code>个参考像素即为从一臂之遥看解析度为<code>96DPI</code>的设备输出（即<code>1</code>英寸<code>96</code>点）时，<code>1</code>点（即<code>1/96</code>英寸）的视角。它并不是 <code>1/96</code> 英寸长度，而是从一臂之遥的距离处看解析度为<code>96DPI</code>的设备输出一单位（即<code>1/96</code>英寸）时视线与水平线的夹角。通常认为常人臂长为<code>28</code>英寸，所以它的视角是:<pre><code class="hljs language-scss code-block-extension-codeShowNum">(1/96)in / (28in * 2 * PI / 360deg) = 0.0213度。
</code></pre><p>由于 CSS 像素是一个视角单位，所以在真正实现时，为了方便基本都是根据设备像素换算的。浏览器根据硬件设备能够直接获取 CSS 像素。<p><img src=https://note-2019-images.oss-cn-hangzhou.aliyuncs.com/0d6ac3a5.webp><blockquote><p>简单介绍一下一臂之遥：我们在使用不同设备输出时，眼睛与设备输出的典型距离是不同的。比如电脑显示器，通常是一臂之距，而看书和纸张时（对应于打印机的设备输出），则通常会更近一些。看电视时则会更远，比如一般建议是电视机屏幕对角线的<code>2.5</code>到<code>3</code>倍长 —— 如果你是个<code>42</code>英寸彩电，那就差不多是<code>3</code>米远。</blockquote><p>这样描述对于很多 CSSer 太过于理论，我们还是回到实际中了。比如说我在项目中有一个盒子元素，它的大小是宽高都是<code>150px</code>，那么我们在 CSS 中常常这么使用：<pre><code class="hljs language-css code-block-extension-codeShowNum">.box {
    width: 150px;
    height: 150px;
}
</code></pre><p>虽然说，像素应该是设备和显示器中显示趋于一致，但是他越来越不正确。那是因为，随站 Retina 屏的出现，<code>dpr</code>不同（设备像素比），对像素和显示器显示会略有不同。比如下图所示：<p><img src=https://note-2019-images.oss-cn-hangzhou.aliyuncs.com/11e60e9b.webp><p>正因如此，在移动端设计当中，大部分设计都采用<code>2</code>倍或<code>3</code>倍尺寸进行设计。<p>虽然说<code>px</code>是 CSS 最绝对单位中最常见，使用最频繁的一个单位。而事实上，CSS 中绝对单位不仅仅这一个，还有其他的绝对单位，比如<code>in</code>（英寸）、<code>cm</code>（厘米）、<code>mm</code>（毫米）、<code>pc</code>和<code>pt</code>等。其中，<code>in</code>、<code>cm</code>和<code>mm</code>可以和<code>px</code>直接进行换算：<ul><li><p><code>1in = 96px</code><li><p><code>1cm = 37.8px</code><li><p><code>1mm = 3.78px</code></ul><p>而<code>pc</code>和<code>pt</code>和<code>in</code>有直接关系：<ul><li><p><code>1in = 72pt</code><li><p><code>1in = 6pc</code></ul><p>如果你希望<code>pt</code>和<code>pc</code>直接和<code>px</code>进行换算的话，可以借助<code>in</code>为中间桥梁。比如：<ul><li><p><code>1in = 96px = 72pt</code>，那么<code>1px = 72 / 96 = 0.75pt</code><li><p><code>1in = 96px = 6pc</code>，那么<code>1px = 6 / 96 = 0.0625pc</code></ul><p>可以用一张简单的图来描述绝对单位之间的关系：<p><img src=https://note-2019-images.oss-cn-hangzhou.aliyuncs.com/bed2ba85.webp><p>在规范中，绝对单位还有一个新单位，不怎么常见，即<code>Q</code>，<code>1Q</code>相当于<code>25mm</code>。它被用于印刷排版。<h3><strong>相对单位</strong></h3><p>相对单位和绝对单位有所不同，相对单位是相对于另一个长度的长度。使用相对单元的样式更容易离开一个输出环境并适应另一个环境。CSS 的相对单位主要分为两大类，其一是字体相对单位，会根据<code>font-size</code>进行计算；其二是视窗相对单位，相对于视窗大小来决定。<h4><strong>字体相对单位</strong></h4><p>字体相对单位主要有<code>em</code>、<code>rem</code>、<code>ex</code>、<code>ch</code>、<code>cap</code>、<code>ic</code>、<code>lh</code>和<code>rlh</code>。其中<code>em</code>、<code>rem</code>、<code>ex</code>和<code>ch</code>是较为常见的字体相对单位。在这里我们也只会介绍这几个常见的单位。<h5><strong>em</strong></h5><p>起初排版度量时是基于当天字体大写字母M的尺寸的。当改变<code>font-family</code>时，它的尺寸不会发生任何改变，但是在改变<code>font-size</code>的大小时，它的尺寸就会发生变化。<p>在 CSS 中，如果没有任何 CSS 规则影响的前提之下，<code>1em</code>的长度是：<pre><code class="hljs language-ini code-block-extension-codeShowNum">1em = 16px = 0.17in = 12pt = 1pc = 4.mm = 0.42cm
</code></pre><p>众所周知，每个浏览器都有一个默认的<code>font-size</code>大小，而这个值通常是<code>16px</code>（用户未修改浏览器字号时）。这也就是为什么<code>1em = 16px</code>的原理所在。<p><img src=https://note-2019-images.oss-cn-hangzhou.aliyuncs.com/cec50b80.webp><p><code>em</code>还有一点很重要：<code>em</code>和它们的祖先元素的<code>font-size</code>有关系。因此，如果祖先元素的<code>font-size</code>设置为<code>0.5em</code>，同时它的子元素的<code>font-size</code>设置为<code>1em</code>，在这一情景之下计算出来的 <code>font-size</code>将为会是<code>16 x 0.5 = 8px</code>：<p><img src=https://note-2019-images.oss-cn-hangzhou.aliyuncs.com/4357301a.webp><p>从上面的简单示例，我们可以得知，随着 DOM 元素的嵌套加深，同时不同层级都显式设置<code>font-size</code>的值为<code>em</code>，那将会增加<code>em</code>计算和转换的复杂度，比如：<p><img src=https://note-2019-images.oss-cn-hangzhou.aliyuncs.com/fd8f2566.webp><p>在<code>px</code>和<code>em</code>之间的转换存有一定的公式在，如下：<pre><code class="hljs language-css code-block-extension-codeShowNum">1 ÷ 父元素的font-size × 需要转换的像素值 = em值
</code></pre><blockquote><p>注意，元素自身未显式设置 <code>font-size</code> 时，取父元素的 <code>font-size</code> 。</blockquote><p>我们也可以借助于 JavaScript，写一个简单的转换函数：<pre><code class="hljs language-scss code-block-extension-codeShowNum">function px2em(pixel,parentFontSize) {
    return (pixel / parentSize) + &#39;em&#39;
}

px2em(10, 16) // =&gt; 0.625em
</code></pre><p><code>em</code>单位除了应用于<code>font-size</code>属性之外，还可以运用于可以使用<code>&lt;length&gt;</code>值的其他属性，比如<code>width</code>、<code>margin</code>、<code>padding</code>、<code>border-width</code>和<code>text-shadow</code>等等。<blockquote><p><code>&lt;length&gt;</code>是表示距离尺寸的一种 CSS 数据格式。它由一个<code>&lt;number&gt;</code>后紧随一个长度单位，比如<code>px</code>、<code>em</code>、<code>pt</code>、<code>in</code>等等。和任何 CSS 尺寸一样，数字和单位之间没有空格。如果<code>&lt;number&gt;</code>为<code>0</code>的话，其之后的长度单位是可选的。</blockquote><p>如果在非<code>font-size</code>的属性上使用<code>em</code>做为<code>&lt;length&gt;</code>值的单位时，将会受元素<code>font-size</code>的影响。在众多开发者中有一个比较普遍的语解，认为<code>em</code>单位是相对于父元素的<code>font-size</code>。而事实上呢？它们是 <strong>相对于使用</strong> <strong><code>em</code></strong> <strong>单位元素的</strong> <strong><code>font-size</code></strong>。父元素的<code>font-size</code>可以影响<code>em</code>值，但这种情况的发生，纯粹是因为继承。<p>前面也提到过，使用<code>em</code>单位存在继承的时候，会让我们处理单位的转换时变得比较棘手。<blockquote><p>为何要处理单位的转换呢？那是因为我们拿到的设计稿，其度量单位大多数是<code>px</code>为单位。如此一来，从设计稿转换到 Web 页面的时候，我们就存在<code>px</code>转<code>em</code>这样的一个过程。</blockquote><p>从前面的知识中，我们得知，使用<code>em</code>单位的属性会根据元素<code>font-size</code>大小来决定。但该元素可能继承其父元素的<code>font-size</code>，而父元素又有可能继承其父元素的<code>font-size</code>。因此，以<code>em</code>为单位的<code>font-size</code>可能会受到其任何父元素的<code>font-size</code>大小影响。这个论点在上面的示例中已得到了验证。<p>既然元素<code>font-size</code>大小会有变化，那么该元素上使用<code>em</code>为单位的属性，也将会受到相应的影响。我们来看看相应的示例：<pre><code class="hljs language-css code-block-extension-codeShowNum">div {
    width: 20em;
    height: 20em;
    border: 1em solid;
    padding: 3em;
}
</code></pre><p>你看到的效果如下：<p><img src=https://note-2019-images.oss-cn-hangzhou.aliyuncs.com/18ad447d.webp><p>在这个示例中，我们没有在<code>div</code>元素和其祖先元素显式的设置<code>font-size</code>，所以该元素的<code>font-size</code>会继承浏览器的默认<code>font-size</code>，即<code>16px</code>。因此在<code>width</code>、<code>height</code>、<code>border-width</code>和<code>padding</code>属性中的<code>em</code>会根据<code>16px</code>做为基准进行计算。因此，最终得到的效果如上图所示。如果我们在<code>div</code>中嵌套一个子元素<code>div</code>。得到的效果将如下：<p><img src=https://note-2019-images.oss-cn-hangzhou.aliyuncs.com/5cd7d52c.webp><p>两个<code>div</code>使用<code>em</code>的属性，最终计算出来的结果是一样的，只不过子元素<code>div</code>溢出了父元素<code>div</code>。如果我们在子元素<code>div</code>中显式的设置<code>font-size: .5em</code>，得到的结果将是另外一种：<p><img src=https://note-2019-images.oss-cn-hangzhou.aliyuncs.com/dbe6f0f5.webp><p>就此而言，<code>em</code>单位可以更好的维护和扩展组件的大小。比如，控制组件大小的属性，比如<code>width</code>、<code>height</code>、<code>padding</code>和<code>border-width</code>等使用<code>em</code>作为单位时，如果要调整组件大小，可以直接调整组件的<code>font-size</code>（要是元素自己未设置<code>font-size</code>时，可以调整其祖先元素的<code>font-size</code>）。比如下图所示，调整<code>font-size</code>可以很灵活的控制组件的大小：<p><img src=https://note-2019-images.oss-cn-hangzhou.aliyuncs.com/3f83a47c.webp><h5><strong>rem</strong></h5><p><code>rem</code>相对于<code>em</code>而言没有那么复杂，他仅仅是相对于根元素<code>&lt;html&gt;</code>的<code>font-size</code>计算。<a href="https://link.juejin.cn/?target=https%3A%2F%2Fwww.w3.org%2FTR%2Fcss3-values%2F%23rem-unit">W3C 规范</a>是这样描述<code>rem</code>的：<blockquote><p>Font size of the root element！</blockquote><p>很多时候，我们可以把<code>rem</code>作为<code>em</code>的替代品。特别是在<code>font-size</code>属性上的运用，但<code>rem</code>和<code>em</code>有一个最大的区别：<strong>任何值为</strong> <strong><code>1rem</code></strong> <strong>的元素都等于</strong> <strong><code>16px</code></strong> <strong>，当然，其前提是浏览器默认的</strong> <strong><code>font-size</code></strong> <strong>没有被用户重置，或者未显式的给</strong> <strong><code>html</code></strong> <strong>元素设置</strong> <strong><code>font-size</code></strong> <strong>值；另外，</strong> <strong><code>rem</code></strong> <strong>可以不管它的父元素的</strong> <strong><code>font-size</code></strong> <strong>如何！</strong><p><img src=https://note-2019-images.oss-cn-hangzhou.aliyuncs.com/76e0ba56.webp><p>从上图可以看出，就算是<code>body</code>中显式的设置了<code>font-size</code>的值，但其并不会影响其子元素<code>h3</code>的<code>font-size</code>，<code>h3</code>的<code>font-size</code>始终都是相对于根元素<code>&lt;html&gt;</code>来计算的。<p>另外，<code>rem</code>和<code>em</code>有点类似，能接受<code>&lt;length&gt;</code>为值的属性都可以以<code>rem</code>为单位，而且都是相对于根元素<code>html</code>的<code>font-size</code>进行计算，并且跟 DOM 的层级没有任何的关系。<h5><strong>em 还是 rem</strong></h5><p>在实际开发中，很多时候很多同学都会问：<blockquote><p><strong><code>em</code></strong> <strong>好，还是</strong> <strong><code>rem</code></strong> <strong>好，应该选择哪个更好？</strong></blockquote><p>事实上，这是一个极具争议的一个问题。因为在实际中，一些开发人员完全避免使用<code>rem</code>，声称使用<code>rem</code>会使他们的组件缺少模块化；另外一些开发人员则什么都使用<code>rem</code>，因为喜欢<code>rem</code>所带来的便捷。那么应该更好的去选择呢：<blockquote><p><strong>没有最好的，只有最适合的!</strong></blockquote><p>对于是选择<code>rem</code>还是<code>em</code>，应该出于理智，在不同的地方使用<code>rem</code>或<code>em</code>。事实上，很多成功的案例也证明了这样的观点：<ul><li><p>如果这个属性根据它的<code>font-size</code>来进行测量，则应该选择<code>em</code><li><p>其他的一切事物均应该使用<code>rem</code></ul><p>同时，大家也可以根据两者的差异性来进行选择：<ul><li><p><code>rem</code>和<code>em</code>在客户端中计算出来的样式值（<strong>计算样式（Computed Style）</strong> ）都会以<code>px</code>显式<li><p><code>rem</code>相对于根元素<code>html</code>的<code>font-size</code>计算，<code>em</code>相对于元素<code>font-size</code>计算<li><p><code>rem</code>可以从浏览器字体设置中继承<code>font-size</code>值，<code>em</code>可能受任何继承过来的父元素<code>font-size</code>的影响<li><p>使用<code>em</code>应该根据组件的<code>font-size</code>来定，而不是根元素的<code>font-size</code>来定<li><p>在不需要使用<code>em</code>单位，并且需要根据浏览器的<code>font-size</code>设置缩放时，应该使用<code>rem</code></ul><h5><strong>ex和ch</strong></h5><p><code>ex</code>和<code>ch</code>是排版单位，这意味着它们的值取决于元素的<code>font-family</code>。而我们在使用<code>em</code>和<code>rem</code>单位时，浏览器会根据元素的<code>font-size</code>计算它们的值。无论屏幕上显示的是什么字体，浏览器计算出来的值都是相同的。这就是<code>ex</code>和<code>ch</code>单位提供更多灵活性的地方。它们要求浏览器在计算值和应用样式之前要确定好引用的<code>font-family</code>。因为，元素的<code>font-family</code>样式对<code>ex</code>和<code>ch</code>单位值的计算有直接关系和影响。<p>在印刷术语中，<code>x</code>高度由字体小写字母的高度决定。这通常用它母<code>x</code>来衡量，它没有任何上升和下降。字体的<code>font-size</code>和<code>x</code>高度之间的关系可以告诉你很多关于字体的比例。<p><code>ex</code>单位的值来自它们所计算的字体上下文的<code>x</code>高度，<code>x</code>高度由两个因素决定：<strong><code>font-family</code></strong> <strong>和</strong> <strong><code>font-size</code></strong>。换句话说，它们等于特定字体在特定<code>font-size</code>下的<code>x</code>高。<p><img src=https://note-2019-images.oss-cn-hangzhou.aliyuncs.com/c5354fa3.webp><p>正如上图，<code>font-family</code>为<code>Helvetica Neue</code>设置的<code>font-size</code>为<code>100px</code>，那么<code>1ex</code>大约等于<code>52px</code>。<p><code>ch</code>和<code>ex</code>相似，但它不依赖于<code>x</code>的高度；而是基于字体的字符，从字体的0字形宽度中提取它们的值，它还随字体而变化。如此一来，就有点随意，而<code>0</code>的宽度通常是对字体的平均字符宽度，这是一个估计值，所以会有点糟糕。<p><img src=https://note-2019-images.oss-cn-hangzhou.aliyuncs.com/dcf85b62.webp><p>由于<code>ch</code>单位是一个近似等宽的一个单元，因此在设置容器的宽度是特别的有用。比如说，你想让容器显示特定数量的字符串时，就可以使用<code>ch</code>单位。<p>《<a href=https://s.juejin.cn/ds/iLDH1a8d/>现代 CSS</a>》的 《<a href=https://juejin.cn/book/7223230325122400288/section/7249357892611440700>现代 CSS 中的相对单位</a>》所述，现代 CSS 中字体相对单位，除了上现提到的单位之外，还有其他一些字体相对单位：<ul><li><p><strong><code>rex</code></strong> ：相对于根元素上的 <code>ex</code> 单位的值计算<li><p><strong><code>rch</code></strong> ：相对于根元素上的 <code>ch</code> 单位的值计算<li><p><strong><code>cap</code></strong> ：等于第一个可用字体的使用帽高度（cap-height），它大约等于大写拉丁字母的高度<li><p><strong><code>rcap</code></strong> ：相对于根元素上的 <code>cap</code> 单位的值计算<li><p><strong><code>lh</code></strong> ：等于元素的行高（<code>line-height</code> ）<li><p><strong><code>rlh</code></strong> ：相对于根元素上的 <code>lh</code> 单位的值计算，当用于根元素的 <code>font-size</code> 或 <code>line-height</code> 属性时，它指的是这些属性的初始值<li><p><strong><code>ic</code></strong> ：是 <code>ch</code> 的东方版本。它是 CJK （中文、日文和韩文）表意文字 <code>水</code> （<code>U+6C34</code>）的大小，因此可以粗略地解释为“表意文字计数”。在不可能或不实际确定表意文字的大小情况下，必须假定为 <code>1em</code><li><p><strong><code>ric</code></strong> ：相对于根元素上的 <code>ic</code> 单位的值计算</ul><h4><strong>视窗相对单位</strong></h4><p>CSS 中除了字体相对单位之外还有视窗相对单位，主要有<code>vw</code>、<code>vh</code>、<code>vmin</code>和<code>vmax</code>。在了解视窗单位之前，先简单的了解一下视窗的概念，这样有助于我们更好的理解视窗单位。<p>在 PC 端，视窗指的是浏览器的可视区域，而在移动端中相对来说更为复杂一些，它包括三个视窗：<strong>布局视窗</strong>（Layout Viewport）、<strong>视觉视窗</strong>（Visual Viewport）和<strong>理想视窗</strong>（Ideal Viewport）：<p><img src=https://note-2019-images.oss-cn-hangzhou.aliyuncs.com/c61b4499.webp><p>而我们要说的视窗单位中的视窗指的是：<strong>PC 端指的是浏览器可视区域，移动端的是布局视窗（Layout Viewport）</strong> ：<p><img src=https://note-2019-images.oss-cn-hangzhou.aliyuncs.com/a87935e3.webp><p>有了视窗的概念，就可以更好的理解 CSS 中有关于视窗单位，在 CSS 中视窗单位主要有：<ul><li><p><strong><code>vw</code></strong>：视窗宽度的百分比<li><p><strong><code>vh</code></strong>：视窗高度的百分比<li><p><strong><code>vmin</code></strong>：当前较小的<code>vw</code>和<code>vh</code><li><p><strong><code>vmax</code></strong>：当前较大的<code>vw</code>和<code>vh</code></ul><p>用下图来描述，大家会更清晰一些：<p><img src=https://note-2019-images.oss-cn-hangzhou.aliyuncs.com/34340723.webp><p>简单的来看看视窗单位是如何进行计算的。例如，如果浏览器的高是<code>900px</code>,<code>1vh</code>求得的值为<code>9px</code>。同理，如果显示窗口宽度为<code>750px</code>,<code>1vw</code>求得的值为<code>7.5px</code>。<code>vh</code>和<code>vw</code>总是与视窗的高度和宽度有关，与之不同的，<code>vmin</code>和<code>vmax</code>是与视窗宽度和高度的最大值或最小值有关，取决于哪个更大和更小。例如，如果浏览器设置为<code>1100px</code>宽、<code>700px</code>高，<code>1vmin</code>会是<code>7px</code>,<code>1vmax</code>为<code>11px</code>。然而，如果宽度设置为<code>800px</code>，高度设置为<code>1080px</code>，<code>1vmin</code>将会等于<code>8px</code>而<code>1vmax</code>将会是<code>10.8px</code>。<p>同样的，<a href=https://s.juejin.cn/ds/iLDH1a8d/>现代 CSS</a> 同样为<a href=https://juejin.cn/book/7223230325122400288/section/7249357892611440700>视窗相对单位新增了一些新的单位</a>。随着 <a href=https://juejin.cn/book/7223230325122400288/section/7254820664442355773>CSS 逻辑属性的出现</a>，视窗单位新增了 <code>vi</code> 和 <code>vb</code> ：<ul><li><p><strong><code>vi</code></strong> ：指浏览器视窗内联轴尺寸（<code>inline-size</code>）的 <code>1%</code><li><p><strong><code>vb</code></strong> ：指浏览器视窗块轴尺寸（<code>block-size</code>）的 <code>1%</code></ul><p>在 CSS 中使用 <code>lv</code> 前缀来定义大视窗的单位，其包含了 <code>lvw</code> 、<code>lvh</code> 、<code>lvi</code> 、<code>lvb</code> 、<code>lvmin</code> 和 <code>lvmax</code> 等单位。另外使用 <code>sv</code> 前缀来定义小视窗的单位，其包含了 <code>svw</code> 、<code>svh</code> 、<code>svi</code> 、<code>svb</code> 、<code>svmin</code> 和 <code>svmax</code> 等单位。动态视窗单位以 <code>dv</code> 前缀定义，其中包括 <code>dvw</code> 、<code>dvh</code> 、<code>dvi</code> 、<code>dvb</code> 、<code>dvmin</code> 和 <code>dvmax</code> 。<blockquote><p>如果你对这些新增的 CSS 单位感兴趣的话，请移步阅读《<a href=https://s.juejin.cn/ds/iLDH1a8d/>现代 CSS</a>》的 《<a href=https://juejin.cn/book/7223230325122400288/section/7249357892611440700>现代 CSS 中的相对单位</a>》课程中的视窗相对单位！</blockquote><h4>容器相对单位</h4><p><a href="https://link.juejin.cn/?target=https%3A%2F%2Fwww.w3.org%2FTR%2Fcss-contain-3%2F%23container-lengths">CSS 规范</a>目前主要定义了以下几种容器查询单位：<ul><li><p><strong><code>cqw</code></strong> ：查询宽度，相对于查询容器宽度计算，即 <code>1cqw</code> 等于查询容器宽度的 <code>1%</code><li><p><strong><code>cqh</code></strong> ：查询高度，相寻于查询容器高度计算，即 <code>1cqh</code> 等于查询容器高度的 <code>1%</code><li><p><strong><code>cqi</code></strong> ：查询内联轴尺寸，相对于查询容器内联轴尺寸计算，即 <code>1cqi</code> 等于查询容器内联轴尺寸的 <code>1%</code><li><p><strong><code>cqb</code></strong> ：查询块轴尺寸，相对于查询容器块轴尺寸计算，即 <code>1cqb</code> 等于查询容器块轴尺寸的 <code>1%</code><li><p><strong><code>cqmin</code></strong> ：查询最小值，是查询内联轴尺寸 <code>cqi</code> 或查询块轴尺寸 <code>cqb</code> 中较小的那个值<li><p><strong><code>cqmax</code></strong> ：查询最大值，是查询内联轴尺寸 <code>cqi</code> 或查询块轴尺寸 <code>cqb</code> 中较大的那个值</ul><h3><strong>角度单位</strong></h3><p>说到角度单位，事实上大家说到的更是度数单位，有关于这方面的单位，我们可能从生活中了解了很多关于他们相关的知识。在学校里学习几何课，做基本的木工活，进入外层空间或在图像编辑软件中旋转一个元素等，都会有角度相关的身影。<p><img src=https://note-2019-images.oss-cn-hangzhou.aliyuncs.com/5c184bbd.webp><p>在现实世界中，度数几乎是测量角度的单位。它在 Web 中同样是一个受欢迎的角色，也适用于我们将遇到的各种场景。幸运的是，在现实世界中的度数和虚拟世界中的度数有很多相似之处。<p>在我们开始查看代码片段以及如何在 HTML、CSS 和 JavaScript 中使用度数单位之前，我们花一点点时间来回忆一下什么是度数，并介绍一些关于度数的基本概念。首先，也是最重要的是：<p><img src=https://note-2019-images.oss-cn-hangzhou.aliyuncs.com/13f46d9b.webp><p>或许在这之前你可以看到过类似这样的一个图（其实就是一个圆）。它代表一个完整的旋转以及所有我们想要测量或指定的角度。需要记住一个大细节是：<strong>一个完整的旋转是由</strong> <strong><code>360</code></strong> <strong>度组成的</strong>。所有的角度都会在<code>0</code>至<code>360</code>度之间：<p><img src=https://note-2019-images.oss-cn-hangzhou.aliyuncs.com/c229eb89.webp><p>这并不意味着你不能处理超出<code>0</code>和<code>360</code>范围的度数值。负数和大于<code>360</code> 度的值都是允许的。只是它们总是被归到<code>0</code>和<code>360</code>度范围内。看看下面两个标准化下变体：<p><img src=https://note-2019-images.oss-cn-hangzhou.aliyuncs.com/448267ab.webp><p>在第一个变体中，我们指定的值实际上是<code>-90</code>度。得到的角度路径是顺时针的，并停止在<code>270</code>度（<code>360 - 90 = 270</code>）位置处。在第二个变体中，我们指定的值是<code>420</code>度。这意味着我们要做完一个完整的旋转（<code>360</code>度），然后继续旋转<code>60</code>度。在大多数情况下，第一个变体的最终度数值是<code>270</code>度，第二个变体的最终度数值是<code>60</code>度。角度的值是否为负值，并无关紧要。为了得到<code>0</code>至<code>360</code>之间的最终角度值，旋转的次数也不重要。同样，这只适用于大多数情况。在某些情况下，比如涉及到动画的情况下，我们采用最终角度度数值是非常重要的。我们稍后会谈到这个。<p>上面是有关于角度单位的基础理论的知识点。事实上，在 CSS 上也有很多有关于角度的使用场景。<h4><strong>CSS 中的旋转</strong></h4><p>角度最常用的用法之一就是在 <a href=https://juejin.cn/book/7288940354408022074/section/7295240572736897064#heading-6>CSS 中给旋转元素设置一个旋转角度（度数）</a>，依赖于 CSS 的<code>transform</code>属性中的<code>rotate()</code>，<code>skew()</code>函数等。其中给<code>rotate()</code>函数传一个角度的值，让元素做相应的旋转。比如：<pre><code class="hljs language-css code-block-extension-codeShowNum">.rectangle {
    width: 200px;
    height: 100px;
    border: 10px solid #83B692;
    background-color: #BEE7B8;
    margin: 100px;
    transform: rotate(37deg);
}
</code></pre><p>给<code>rotate()</code>函数设置了一个<code>37deg</code>的值，告诉元素<code>.rectangle</code>围绕着旋转原点（旋转原点可以通过<code>transform-origin</code>属性进行设置）旋转<code>37deg</code>。最终这个<code>.rectangle</code>元素旋转后的效果如下图所示：<p><img src=https://note-2019-images.oss-cn-hangzhou.aliyuncs.com/f2fa36d0.webp><p>看到这样的旋转结果，你是不是感到有点奇怪？<code>37</code>度旋转出来的效果应该像下面这样才对，是吧？<p><img src=https://note-2019-images.oss-cn-hangzhou.aliyuncs.com/bd3b54ee.webp><p>我们在浏览器中看到的效果几乎与此相反。原因是与 Web 上定义旋转的方向有关系。在现实中，<strong>角度值是随着逆时针方向增加</strong>（在前面有提到过）。在 Web 上，角度值却是随着顺时针方向增加。<p><img src=https://note-2019-images.oss-cn-hangzhou.aliyuncs.com/fa49f051.webp><p>这似乎看上去有点奇怪，但事实就是这样，我们也无法改变。我们所要做的就是 <strong>记住这样的差异性，并在实际使用的时候做相应的调整</strong>。<p>有关于 CSS 中旋转运用到的角度值，介绍到这也就差不多了。但有一点需要记住，之前我们介绍过，<strong>如果角度值低于</strong> <strong><code>0</code></strong> <strong>或者大于</strong> <strong><code>360</code></strong> <strong>度最终都会规化到</strong> <strong><code>0</code></strong> <strong>至</strong> <strong><code>360</code></strong> <strong>度范围内</strong>。大多数情况之下，负值和大于<code>360</code>度值都并不很重要。下图就很好的阐述了负值和大于<code>360</code>度值并不影响元素最终的旋转结果：<p><img src=https://note-2019-images.oss-cn-hangzhou.aliyuncs.com/64b1ba36.webp><p>就上图的结果来看，<code>.rectangle</code>元素旋转<code>37deg</code>、<code>397deg</code>、<code>757deg</code>或<code>-323deg</code>，其最终的结果都将是一样的。<p><a href=https://s.juejin.cn/ds/iLDxohAB/>只有当我们在做动画的时候，这个结果才不是一样的</a>。在动画制作过程中，旋转角度的最终值和如何获得最终旋转的角度值都非常重要。这是制作动画的一个细节问题。对于负值，表示我们的元素在做逆时针旋转，旋转到最张的角度值；大于<code>360deg</code>表示元素一直在旋转，直到最终的角度值。当我们真正的可视化实际发生的一切时，这样做的一切都变得有意义了。<p>下图的效果就是四个矩形旋转的另一个版本。从<code>0</code>度开始旋转，一直旋转到最终值（<code>37</code>、<code>397</code>、<code>757</code>和<code>-323</code>度）：<p><img src=https://note-2019-images.oss-cn-hangzhou.aliyuncs.com/7378d945.webp><p>对于旋转<code>37deg</code>的矩形动画没有什么特别之处，因为它是一个很正常的效果。对于旋转<code>397deg</code>的矩形，它最终停止的点也是在<code>37deg</code>的位置，只不过矩形做了一个完整（圆）的旋转之后，再继续旋转了<code>37deg</code>（<code>360 + 37</code>）；<code>757deg</code>度的这个矩形同样的，动画最终停止的位置也是<code>37deg</code>那，只不过他做了两圈旋转之后，再继续旋转了<code>37</code>度（<code>360 + 360 + 37</code>）；最后旋转<code>-323deg</code>的矩形有点不一样，它是逆时针旋转，但最终动画停止位置也和其他矩形一样，是在<code>37deg</code>位置处。所以，这四个矩形动画最终停止的位置是相同的，但动画如何到达停止处是完全不同的。<p>另外，这个动画的持续时间都是<code>8s</code>（<code>animation-duration: 8s</code>），这意味着四个矩形完成动画的时间都是<code>8s</code>。那么问题来了，四个矩形旋转的角度不同（前提也提到过了，有的旋转一圈多，有的旋转两圈多），但动画持续时间都相同（都是<code>8s</code>），而且他们要到达的目的地都是相同的（都是<code>37deg</code>位置处），这样一来就会造成矩形旋转快慢的不同。正如在示例中看到的效果一样。<blockquote><p>如果你对 Web 动画制作感兴趣，可以移步阅读《<a href=https://s.juejin.cn/ds/iLDxohAB/>Web 动画之旅</a>》，它是一本关于 Web 动画制作的系列教程！</blockquote><p>上面我们主要讨论了 CSS 中旋转的角度是如何工作的，特别是在动画的中旋转角度值和平时有何不同的细节。接下来我们换过另一个话题继续聊 Web 中的度数（角度值）。<h4><strong>CSS 渐变中的角度</strong></h4><p>在 CSS 中还会使用到角度的另外一个典型属性是<a href=https://juejin.cn/book/7199571709102391328/section/7199845781149810727> CSS 渐变</a>的相关属性。比如线性渐变属性<code>linear-gradient()</code>：<pre><code class="hljs language-css code-block-extension-codeShowNum">background: linear-gradient(45deg, #f36, #389);
</code></pre><p>上面代码中的<code>45deg</code>指的是渐变的角度。很多同学会误以为渐变中的角度和旋转的角度应该是同一回事。事实上，他们是不一样的，如果你使用过类似 Photoshop 这样的编辑图片的软件，你可能会找到一定的答案：<p><img src=https://note-2019-images.oss-cn-hangzhou.aliyuncs.com/8cb354d2.webp><p>从上图中可以看出来，渐变的角度和旋转的角度完全不是一回事。线性渐变的这个角度以圆心为起点发散。先来看一张图：<p><img src=https://note-2019-images.oss-cn-hangzhou.aliyuncs.com/2ec8e5b4.webp><p><code>C</code>点是渐变容器的中心点（即，元素的中心点），<code>A</code>点是通过<code>C</code>点垂直线与通过<code>C</code>点渐变线的夹角，这个角称为<strong>渐变角度</strong>（比如示例中的<code>45deg</code>）。在 CSS 的渐变属性中可以通过下面两种方法来定义这个角度：<ul><li><p>使用关键词：<code>to top</code>、<code>to bottom</code>、<code>to left</code>、<code>to right</code>、<code>to top right</code>、<code>to top left</code>、<code>to bottom right</code>和<code>to bottom left</code><li><p>使用带单位数字定义角度，比如<code>45deg</code>、<code>1turn</code>等 (有关于<code>deg</code>和<code>turn</code>的关系，我们后续会说到)</ul><p>如果省略角度值的设置，那默认是<code>to bottom</code>（对应<code>180deg</code>或者<code>.5turn</code>）：<p><img src=https://note-2019-images.oss-cn-hangzhou.aliyuncs.com/176a31a9.webp><p>在上面的示例中，渐变角度是没有设置，<code>white</code>至<code>red</code>渐变色从<code>top</code>至<code>bottom</code>渐变，它和使用<code>to bottom</code>关键词得到的效果是一样的，如下所示：<p><img src=https://note-2019-images.oss-cn-hangzhou.aliyuncs.com/2de1202e.webp><p>除了使用这些关键词之外，还可以使用明确的角度值，比如<code>45deg</code>，而且更建议你使用角度值来替代关键词。下图能帮助我们看看渐变角度动态变化时，渐变线是怎么移动的：<p><img src=https://note-2019-images.oss-cn-hangzhou.aliyuncs.com/366d0f59.webp><p>回顾一下渐变角度：<ul><li><p>角度是渐变线与渐变容器中心点向上垂直线之间的夹角<li><p><code>0deg</code>的意思就是<code>to top</code><li><p>角度的默认值（也就是角度没有设置），它的值是<code>to bottom</code>，也和<code>180deg</code>相同<li><p>顶角关键词和渐变容器尺寸有关</ul><blockquote><p>其实 CSS 渐变是一个复杂的知识体系，这里面有很多不为人知的一面，如果你想深入了解这些潜在的坑，请移步阅读《<a href=https://s.juejin.cn/ds/iLDQbgfT/>防御式 CSS 精讲</a>》中的《<a href=https://juejin.cn/book/7199571709102391328/section/7199845781149810727>你不知道的 CSS 渐变</a>》！</blockquote><h4><strong>Canvas 中的角度</strong></h4><p>大家都知道，<code>canvas</code>可以用来帮助我们绘制一些几何图形，也可以帮助我们做很多 CSS 之类无法做到的事情。在<code>canvas</code>的部分 API 中也会使用到角度，比如使用<code>arc()</code>、<code>arcTo()</code>绘制圆和圆弧以及 Canvas 中的<code>rotate()</code>方法。<p>在 Canvas 中，角度的测量和我们常见的角度测量是有所差异的，其差异如下图所示：<p><img src=https://note-2019-images.oss-cn-hangzhou.aliyuncs.com/063065dc.webp><p>然而，在 Canvas 中，角度并不是我们通常意义上所了解的角度，而是用弧度来表示的。比如，一个圆是<code>360</code>度，那么用弧度来表示的，其对应的就是<code>2π</code>弧度，即以圆心为坐标原点，开始计算开始弧度与终止弧度。顺时针还是逆时针就是画线的方向（或者旋转方向），比如像下图这样：<p><img src=https://note-2019-images.oss-cn-hangzhou.aliyuncs.com/25193f73.webp><p>对于很多 Web 开发者而言，大家更为熟知的是度数来表达角度，所以说，要在<code>canvas</code>中使用度数，那还需要做一步转化过程，把度数转换成弧度。不过有关于度数转弧度，我们在后面会简单的介绍。<h4><strong>HSL 中的角度</strong></h4><p>在 CSS 中，我们有<a href=https://juejin.cn/book/7223230325122400288/section/7231515598088306720>多种指定颜色的方式</a>，最为经典的是十六进制和<code>RGB</code>格式。除此之外，我们还可以使用另一种指定颜色的格式，即<code>HSL</code>。其中<code>HSL</code>分别是色相（<code>Hue</code>），饱和度（<code>Saturation</code>）和亮度（<code>Lightness</code>）三个单词的首字母。<p>对于<code>HSL</code>相关的细节已经超出这篇文章的有关范围，但<a href="https://link.juejin.cn/?target=https%3A%2F%2Fen.wikipedia.org%2Fwiki%2FHSL_and_HSV">维基百科上的HSL和HSV文章</a>很好地解释了它的工作原理和目的。我们所知道的是，在 Web 中可以通过<code>hsl</code>或<code>hsla</code>函数来指定 <code>HSL</code> 格式中的任何颜色，这两个数都类似，唯一的区别是<code>hsla</code>增加了对透明度的支持。比如，我们可以像下面这样使用<code>hsla</code>来指定颜色：<pre><code class="hljs language-css code-block-extension-codeShowNum">background-color: hsla(54, 100%, 62%, 1);
</code></pre><p>上面使用<code>hsla</code>指定了<code>background-color</code>的值，上面的代码<code>hsla(54, 100%, 62%, 1)</code>是一个黄橙色。<p><img src=https://note-2019-images.oss-cn-hangzhou.aliyuncs.com/5930f8cc.webp><p>此时，你可能会感到纳闷。我们要聊的是 Web 中的角度相关的话题，那怎么又聊 Web 中的颜色呢？换句话说，HSL格式指定颜色与使用度数有何关系？如果你真的是这么想的，那表示你是对的，就应该这么的问。<code>HSL</code>颜色（以及<code>hsla</code>函数的扩展）是由四个值组成：<strong>色相</strong>，<strong>饱和度</strong>，<strong>亮度</strong>和<strong>透明度</strong>。<p><code>HSL</code>中的<code>H</code>，也就是颜色的色相，它指定色相的方式是<strong>以度数为单位的，这些度数映射到色盘上的颜色</strong>，比如像下图这样：<p><img src=https://note-2019-images.oss-cn-hangzhou.aliyuncs.com/32c75dad.webp><p>在我们这个示例中，指定的颜色的色相值是<code>54</code>度。对应到色盘上的位置，就是我们看到的黄橙色。在实际使用的时候，如果一时无法确定角度值对应色盘上的颜色，我们可以借助浏览器开发者工具来帮助我们，比如像下面这样：<p><img src=https://note-2019-images.oss-cn-hangzhou.aliyuncs.com/6325f28c.webp><p>如果你想更进一步了解 CSS 颜色相关的知识，建议你移步阅读下面这些教程：<ul><li><p><a href=https://juejin.cn/book/7223230325122400288/section/7231515598088306720>现代 CSS 中的颜色格式： RGB，HSL，HWB，LAB 和 LCH</a><li><p><a href=https://juejin.cn/book/7223230325122400288/section/7233227753909125178>新的 CSS 颜色空间：为 Web 设置高清颜色</a><li><p><a href=https://juejin.cn/book/7223230325122400288/section/7235205520154427429>CSS 中的 OKLCH 和 OKLAB</a><li><p><a href=https://juejin.cn/book/7223230325122400288/section/7237288025221234744>CSS 的混合颜色：color-mix()</a><li><p><a href=https://juejin.cn/book/7223230325122400288/section/7238477651873103927>Web 控件 UI 颜色的定制：accent-color 和 color-scheme</a><li><p><a href=https://juejin.cn/book/7223230325122400288/section/7239644346935410720>颜色对比度：color-contrast()</a></ul><h4><strong>其他度数单位</strong></h4><p>前面我们大部分聊的都是角度单位，其实除了角度单位，我们还有百分度（<code>grad</code>）、弧度（<code>rad</code>）和圈数（<code>turn</code>）单位：<ul><li><p><strong>百分度（</strong> <strong><code>grads</code></strong> <strong>）</strong> ：一个分度，或者说是百分度相对于<code>1/400</code>个整圆，跟角度单位一样，支持负值，负值表示逆时针方向，其中<code>100grad</code>相当于<code>90deg</code><li><p><strong>弧度（</strong> <strong><code>rad</code></strong> <strong>）</strong> ：在 Canvas 部分简单提到过弧度，<code>1rad</code>等于<code>180/π</code>度（大约为<code>57.3deg</code>）,另外<code>1.570796326794897rad</code>相当于<code>100grad</code>或是<code>90deg</code><li><p><strong>圈数（</strong> <strong><code>turn</code></strong> <strong>）</strong> ：<code>1turn</code>等于<code>360deg</code></ul><h4><strong>弧度和度数间转换</strong></h4><p>在前面，我们在 CSS 中大部分情况使用的是角度值都是用度数(<code>deg</code>)来做为单位值，事实上也可以像在 JavaScript 中使用弧度<code>rad</code>做为单位值。<p>正如大家所了解的一样。一个完整的圆的弧度是<code>2π</code>，所以<code>2π rad = 360°</code>，<code>1 π rad = 180°</code>，<code>1°= π/180 rad</code>，<code>1 rad = 180°/π</code>（约<code>57.29577951°</code>）。以度数表示的角度，把数字乘以<code>π/180</code>便转换成弧度；以弧度表示的角度，乘以<code>180/π</code>便转换成度数。<pre><code class="hljs language-ini code-block-extension-codeShowNum">rad = (π / 180) * deg
</code></pre><p>同样的：<pre><code class="hljs language-ini code-block-extension-codeShowNum">deg = (rad * 180) / π
</code></pre><p>平时我们常看到的各种弧度如下：<p><img src=https://note-2019-images.oss-cn-hangzhou.aliyuncs.com/070c2019.webp><p>上面简单的介绍了度数和弧度之间的关系。其实在 JavaScript 中我们可以很容易实现度数和弧度之间的换数：<pre><code class="hljs language-ini code-block-extension-codeShowNum">rad = (Math.PI * deg) / 180
</code></pre><p>同样的：<pre><code class="hljs language-ini code-block-extension-codeShowNum">deg = (rad * 180) / Math.PI
</code></pre><p>为了方便计算和使用，可以将其封装成 JavaScript 函数：<pre><code class="hljs language-javascript code-block-extension-codeShowNum">function getRads (degrees) {
    return (Math.PI * degrees) / 180;
}

function getDegrees (rads) {
    return (rads * 180) / Math.PI;
}
</code></pre><p>比如我们要将<code>30deg</code>转换成<code>rad</code>，可以直接使用：<pre><code class="hljs language-scss code-block-extension-codeShowNum">getRads(30);                    // =&gt; 0.5235987755982988rad
getDegrees(0.7853981633974483); // =&gt; 45deg
</code></pre><p>下图展示了常见的角度和弧度之间的换算：<p><img src=https://note-2019-images.oss-cn-hangzhou.aliyuncs.com/0c71affa.webp><h3><strong>百分比单位</strong></h3><p>CSS 中百分比<code>%</code>单位也是一个很重要也是很常用的单位，和<code>px</code>、<code>em</code>类似，在 CSS 中接受<code>&lt;length&gt;</code>值的属性都可以使用<code>%</code>单位。但在不同的使用场合，其意义将会有很多地不同。正因如此，要理解<code>%</code>这个单位，其关键点是：<strong>百分比是一定要有其对应的参照值</strong>，也就是说，<strong>百分比值是一种相对值，任何时候要分析它的计算值，都需要正确的找到它的参照值</strong>。<p>言外之意，CSS 中的百分比单值最终计算出来的值是可变的。常见的可以分为以下几个大类：<h4><strong>定位中的百分比</strong></h4><p>在 CSS 中用来控制<code>position</code>位置的<code>top</code>、<code>right</code>、<code>bottom</code>和<code>left</code>都可以使用百分比作为单位。如果它们的值为百分比时，其对应的参照物是包含块（但不一定是其父容器）同方向的<code>width</code>或<code>height</code>计算。<p>刚才提到过，定位属性中的参照物：<strong>包含块并不一定是其父容器</strong>。为什么这么说呢？因为在 CSS 中<code>position</code>对应的属性值不一样，其对应的包含块也将不同：<ul><li><p>如果元素为静态（<code>static</code>）或相对定位（<code>relative</code>），包含块一般是其父容器<li><p>如果元素为绝对定位（<code>absolute</code>），包含块应该是离它最近的<code>position</code>为<code>absolute</code>、<code>relative</code>或<code>fixed</code>的祖先元素<li><p>如果元素为固定定位（<code>fixed</code>），包含块就是视窗（<code>viewport</code>）</ul><h4><strong>盒</strong> <strong>模型中的百分比</strong></h4><p>CSS 中的盒模型对应的属性主要有<code>height</code>、<code>min/max-height</code>、<code>width</code>、<code>min/max-height</code>、<code>padding</code>、<code>margin</code>和<code>border</code>等属性。不同的属性其对应的参照物也有所不同。<ul><li><p><code>height、min/max-height</code>属性的值为百分比时，其相对于包含块的<code>height</code>进行计算<li><p><code>width、min/max-width</code>属性的值为百分比时，其相对于包含块的<code>width</code>进行计算<li><p><code>padding</code>和<code>margin</code>相对来说更为复杂一些，如果书写模式是水平的，则相对于包含块的<code>width</code>进行计算；如果书写模式是垂直的，则相对于包含块的<code>height</code>进行计算</ul><h4><strong>文本中的百分比</strong></h4><p>在 CSS 中控制文本的属性常见的有<code>font-size</code>、<code>line-height</code>、<code>text-indent</code>、<code>vertical-align</code>等。不同的属性其参照物也是有所不同：<ul><li><p><code>font-size</code>是基于父元素中<code>font-size</code>进行计算<li><p><code>text-align</code>和<code>padding</code>有点类似，和书写模式有一定的关系。如果书写模式是水平的，则相对于<code>width</code>进行计算，如果是垂直的，则相对于<code>height</code>进行计算<li><p><code>line-height</code>则基于<code>font-size</code>进行计算<li><p><code>vertical-algin</code>则基于<code>line-height</code>计算</ul><h4><strong>边框和圆角中的百分比</strong></h4><p>在 CSS 中<code>border-width</code>属性是不支持%单位的，但在<code>border-radius</code>和<code>border-image-width</code>两个属性上是可以使用百分比为单位的。如果在<code>border-radius</code>中使用百分比单位，也就是说圆角的半径是通过百分比来进行计算的，即：<strong>水平方向的半径是相对于元素</strong> <strong><code>width</code></strong> <strong>计算，垂直方向的 半径是相对于元素高度进行计算</strong>。比如：<pre><code class="hljs language-css code-block-extension-codeShowNum">.circle{
    width: 200px;
    height: 200px;
    border-radius:50%;
}

.ellipse {
    width: 200px;
    height: 100px;
    border-radius: 50%;
}
</code></pre><p>上面的代码对应的结果如下图所示：<p><img src=https://note-2019-images.oss-cn-hangzhou.aliyuncs.com/a503f912.webp><p>从结果是可以看出来，元素<code>.circle</code>的<code>width</code>和<code>height</code>都是<code>200px</code>，当<code>border-radius: 50%</code>时，计算出来的值都是<code>100px</code>；而<code>.ellipse</code>元素的<code>width</code>和<code>height</code>分别是<code>200px</code>和<code>100px</code>，当<code>border-radius</code>为<code>50%</code>时，其计算出来的结果相当于<code>border-radius: 100px / 50px</code>（水平方向相对于<code>width</code>计算，垂直方向相对于<code>height</code>计算）。<p>对于<code>border-image-width</code>来说，相对要简单一些，如果该属性的值是百分比，其计算参照于图像边框区域的大小（包含<code>border</code>和<code>padding</code>）进行计算。<blockquote><p>有关于圆角 <code>border-radius</code> 更详细的介绍，可以移步阅读《<a href=https://juejin.cn/book/7199571709102391328/section/7199845563389444099>你不知道的 border-radius</a>》!</blockquote><h4><strong>背景属性中的百分比</strong></h4><p>在背景属性中，<code>background-size</code>、<code>background-origin</code>和<code>background-position</code>属性都可以使用百分比作为单位。其中<code>background-size</code>则是基于<code>background-origin</code>区域的大小进行计算。可以对背景图像进行缩放处理。<p>对于<code>background-position</code>中的百分比，相对而言更为复杂一些，需要通过一些数学公式计算：<pre><code class="hljs code-block-extension-codeShowNum">（容器尺寸 - 背景图像尺寸）* 百分比值
</code></pre><p>当背景图片尺寸（<code>background-size</code>）不做任何的重置（也就是<code>100% 100%</code>）时，水平百分比的值等于容器宽度百分比值减去背景图片宽度百分比值。垂直百分比的值等于容器高度百分比值减去背景图片高度百分比值。<p>假设有一个元素，其<code>width</code>是<code>410px</code>，<code>height</code>是<code>210px</code>，使用的背景图片的尺寸是<code>100px * 100px</code>。如果，<code>background-position</code>的值是<code>75% 50%</code>，那么百分比最终计算出来的值是：<ul><li><p>水平位置（<code>x</code>轴）：<code>(410 - 100) * 75% = 232.5px</code><li><p>垂直位置（<code>y</code>轴）：<code>(210 - 100) * 50% = 55px</code></ul><p><img src=https://note-2019-images.oss-cn-hangzhou.aliyuncs.com/ea871633.webp><p>如果你的背景图片是通过渐变属性来绘制的话，那么在渐变中的每个颜色的位置也可以使用百分比来设置。对于这部分的计算相对而言细节更多，在这里不做过多的阐述，详细的介绍放到渐变那个章节来介绍。这个只提供一个简单的示例：<pre><code class="hljs language-arduino code-block-extension-codeShowNum">background-image: linear-gradient(80deg, red, blue, red, blue, red)
</code></pre><p>如果没有显式指定颜色在渐变线上的位置，这将交给浏览器来确定颜色在渐变线上的位置。最简单的情况下只有两个颜色，颜色<code>1</code>将被放置在渐变线<code>0%</code>位置（渐变线开始位置），颜色<code>2</code>将被放置在<code>100%</code>位置处（渐变线的结束点）。如果有三个颜色，那么颜色<code>1</code>在渐变线的<code>0%</code>，颜色<code>2</code>在渐变线的<code>50%</code>，颜色<code>3</code>在渐变线的<code>100%</code>。在上面的这个示例中，有五个颜色，那么它们的位置分别在<code>0%</code>、<code>25%</code>、<code>50%</code>、<code>75%</code>和<code>100%</code>。它们将沿着渐变线平均分布渐变颜色。<p><img src=https://note-2019-images.oss-cn-hangzhou.aliyuncs.com/72d5dd2d.webp><blockquote><p><strong>在渐变中的百分比的计算是相对于渐变线计算</strong>。</blockquote><h4><strong>变换中的百分比</strong></h4><p>CSS 中的<code>transform</code>属性中的<code>translate</code>和<code>transform-origin</code>值也可以设置百分比。<ul><li><p><code>translateX()</code>的百分比相对于容器的<code>width</code>计算<li><p><code>translateY()</code>的百分比相对于容器的<code>height</code>计算<li><p><code>transform-origin</code>中横坐标（<code>x</code>）相对于容器的<code>width</code>计算；纵坐标（<code>y</code>）相对于容器的<code>height</code>计算</ul><blockquote><p>注意，在<code>translate</code>还有一个<code>z</code>轴的函数<code>translateZ()</code>。它是不接受百分比为单位的值。</blockquote><h4><strong>百分比值的继承</strong></h4><p>请注意，<strong>当百分比值用于可继承属性时，只有结合参照值计算后的绝对值会被继承，而不是百分比值本身</strong>。例如，一个元素的<code>font-size</code>是<code>14px</code>，并定义了<code>line-height:150%;</code>，那么该元素的下一级子元素继承到的<code>line-height</code>就是<code>21px</code>，而不会再和子元素自己的<code>font-size</code>有关。<h3><strong>时间单位</strong></h3><p>CSS 中有两个常见的时间单位，即秒（<code>s</code>）和毫秒（<code>ms</code>）。其中<code>1s = 1000ms</code>。这两个单位常用于 CSS 中<code>transition-duration</code>、<code>transition-delay</code>、<code>animation-duration</code>和<code>animation-delay</code>属性中。<h3><strong>频率单位</strong></h3><p>频率值使用在听（或说）级联样式表中，有两个单位值，及赫兹（<code>Hz</code>）和千赫（<code>kHz</code>），有点毫秒和秒的感觉。频率可以被用来改变一个语音阅读文本的音调。低频率是低音，高频率，高音。例如下面的代码：<pre><code class="hljs language-css code-block-extension-codeShowNum">.low {
    pitch: 105Hz;
}
.squeal {
    pitch: 135Hz;
}
</code></pre><h2><strong>小结</strong></h2><p>在 CSS 中，除了上述提到的单位，其实还有很多其他的 CSS 单位。这里只向大家介绍了一些常见或者常用的 CSS 单位。不管是相对单位，还是绝对单位，或者说时间、角度单位，我们都应该根据自己业务的场景来选择适合的单位。比如说在移动端做适配，可以选择视窗单位来做适配，如果扩展模块大小，可以使用<code>em</code>来更为适合。对于其他的 CSS 单位，如果大家感兴趣的话，可以一一尝试。<hr><p>如果你觉得该教程对你有所帮助，请给我点个赞。要是你喜欢 CSS ，或者想进一步了解和掌握 CSS 相关的知识，请<a href=https://juejin.cn/column/7140454651236712485>关注我的专栏</a>，或者移步阅读下面这些系列教程：<ul><li><a href=https://s.juejin.cn/ds/iLDXsNEw/>现代 Web 布局</a><li><a href=https://s.juejin.cn/ds/iLDQbgfT/>防御式 CSS 精讲</a><li><a href=https://s.juejin.cn/ds/iLDX9fjH/>现代 CSS</a><li><a href=https://s.juejin.cn/ds/iLDxohAB/>Web 动画之旅</a></ul></div></main>
<hr>
<footer>
        <label>原网址: <a href="https://juejin.cn/post/7324680413926834215" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">访问</a></label><br/>
        <label>创建时间: 2024-01-18 09:37:51</label><br/>
        <br/>
        
      </footer>
<link rel=stylesheet href=https://cp-bkt1.oss-cn-hangzhou.aliyuncs.com/cdn/prism.css>
<link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-twilight.min.css>
<script src=https://cp-bkt1.oss-cn-hangzhou.aliyuncs.com/cdn/prism.js></script>
</body>
</html>